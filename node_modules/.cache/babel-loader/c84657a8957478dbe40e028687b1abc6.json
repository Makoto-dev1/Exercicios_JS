{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"A:\\\\Senai\\\\JavaScript\\\\ReactJS\\\\nyous-react\\\\src\\\\pages\\\\login\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport Menu from '../../components/menu';\nimport Rodape from '../../components/rodape';\nimport { Container, Form, Button } from 'react-bootstrap';\nimport logo from '../../assets/img/Lo';\nimport './index.css';\n\nconst Login = () => {\n  _s();\n\n  const history = useHistory(); //string email {get; set;}\n\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n\n  const logar = event => {\n    event.preventDefault(); //$\"{email} - {senha}\"\n    // email + ' - ' + senha\n    //this.state.email\n\n    fetch('http://localhost:5000/api/account/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n        senha: senha\n      }),\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      alert('Dados Inválidos');\n    }).then(data => {\n      localStorage.setItem('token-nyous-tarde', data.token);\n      let usuario = jwt_decode(data.token);\n      if (usuario.role === 'Admin') history.push('/admin/dashboard');else history.push('/eventos');\n    }).catch(err => console.error(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"form-height\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"form-signin\",\n        onSubmit: event => logar(event),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"NYOUS\",\n            style: {\n              width: '64px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"Informe os dados Abaixo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            value: email,\n            onChange: event => setEmail(event.target.value),\n            placeholder: \"Informe o email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Senha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            value: senha,\n            onChange: event => setSenha(event.target.value),\n            placeholder: \"Senha\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Enviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/cadastrar\",\n          style: {\n            marginTop: '30px'\n          },\n          children: \"N\\xE3o tenho conta!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Rodape, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"EIew5DE1PTwuYE1O+2OXM0X2N90=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["A:/Senai/JavaScript/ReactJS/nyous-react/src/pages/login/index.jsx"],"names":["React","useState","useHistory","jwt_decode","Menu","Rodape","Container","Form","Button","logo","Login","history","email","setEmail","senha","setSenha","logar","event","preventDefault","fetch","method","body","JSON","stringify","headers","then","response","ok","json","alert","data","localStorage","setItem","token","usuario","role","push","catch","err","console","error","width","target","value","marginTop"],"mappings":"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","sourcesContent":["import React, { useState }  from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Menu from '../../components/menu';\r\nimport Rodape from '../../components/rodape';\r\nimport {Container, Form, Button} from 'react-bootstrap';\r\nimport logo from '../../assets/img/Lo'\r\nimport './index.css';\r\n\r\nconst Login = () => {\r\n    const history = useHistory();\r\n    //string email {get; set;}\r\n    const [email, setEmail] = useState('');\r\n    const [senha, setSenha] = useState('');\r\n\r\n    const logar = (event) => {\r\n        event.preventDefault();\r\n\r\n        //$\"{email} - {senha}\"\r\n        // email + ' - ' + senha\r\n        //this.state.email\r\n\r\n        fetch('http://localhost:5000/api/account/login',{\r\n            method : 'POST',\r\n            body : JSON.stringify({\r\n                email : email,\r\n                senha : senha\r\n            }),\r\n            headers : {\r\n                'content-type' : 'application/json'\r\n            }\r\n        })\r\n        .then(response => {\r\n            if(response.ok){\r\n                return response.json();\r\n            }\r\n\r\n            alert('Dados Inválidos');\r\n        })\r\n        .then(data => {\r\n            localStorage.setItem('token-nyous-tarde', data.token);\r\n\r\n            let usuario = jwt_decode(data.token);\r\n\r\n            if(usuario.role === 'Admin')\r\n                history.push('/admin/dashboard');\r\n            else\r\n                history.push('/eventos');\r\n        })\r\n        .catch(err => console.error(err));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <Menu />\r\n        <Container className='form-height'>\r\n                <Form className='form-signin' onSubmit={ event => logar(event)} >\r\n                    <div className='text-center'>\r\n                     <img src={logo} alt='NYOUS' style={{ width : '64px'}} />\r\n                    </div>\r\n                    <br/>\r\n                    <small>Informe os dados Abaixo</small>\r\n                    <hr/>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Label>Email </Form.Label>\r\n                        <Form.Control type=\"email\" value={email} onChange={ event => setEmail(event.target.value)} placeholder=\"Informe o email\" required />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Label>Senha</Form.Label>\r\n                        <Form.Control type=\"password\" value={senha} onChange={ event => setSenha(event.target.value)} placeholder=\"Senha\"  required/>\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\" >\r\n                        Enviar\r\n                    </Button>\r\n                    <br/><br/>\r\n                    <a href='/cadastrar' style={{ marginTop :'30px'}}>Não tenho conta!</a>\r\n                </Form>\r\n            </Container>\r\n        <Rodape />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login    "]},"metadata":{},"sourceType":"module"}